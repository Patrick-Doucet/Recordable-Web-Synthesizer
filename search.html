<!doctype html>
<head>
    <title>Online Web Synthesizer</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
    <!--TopNavMenu-->
    <div class="topNavMenu" id="navMenu">
		<a id="fllbutton" href="index.html"><span class="noselect">Online Web Synthesizer</span></a>
		<a href="index.html"><span class="noselect">Play</span></a>
		<a href="search.html"><span class="noselect">Search</span></a>
		<a href="javascript:void(0);" class="icon" onclick="mobileToggle()">&#9776;</a>
	</div>
    <script>
        /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
        function mobileToggle() {
            var x = document.getElementById("navMenu");
            if (x.className === "topNavMenu") {
                x.className += " responsive";
            } else {
                x.className = "topNavMenu";
            }
        }

	function playTrack(trackid) {
		console.log(trackid);
		$.ajax({
			url : 'scripts/playmusic.php',
			type : 'GET',
			data : { 'trackid': trackid },
			dataType : 'html',
			success : function(res, statut)
			{
				console.log(res);
			}
		});
	}

	$(document).ready(function(){
		$('#searchinputs').children().hide();
		$($('#searchType').val()).show();
		$('#searchType').change(function(){
			selected = $(this).val();
			$('#searchinputs').children().hide();
			$(selected).show();	
		});
		$('#startsearch').click(function () {
			var field = $('#searchType').val();
			var column = $(field).attr('name');
			var val = $(field).val();
			console.log(val + ` ` + column + ` ` + field);
			if($(field)[0].checkValidity()){
			$.ajax({
			url : 'scripts/music.php',
			type : 'GET',
			data : { 'type': column, 'val': val},
			dataType : 'html',
			success : function(res, statut)
			{
				$('#searchresults').html(res);
			}
			});
			}
		});
	});
    </script>

    <!-- This is the container for the title text-->
    <div class="row">
        <div class="col-sm-12">
            <div class="TitleContainer">
                <div id="Title">
                    <h1 style="text-align:center">Online Web Synthesizer</h1>
                </div>
            </div>
        </div>
    </div>

    <!-- Container for the search function -->
    <div class="row">
		<div class="col-sm-12">
			<div class="SearchContainer">
				<label id="SearchBy">Search by </label>
				<select id="searchType">
					<option value="#artist">Artist</option>
					<option value="#name">Name</option>
				</select><br>

			<div class="SearchInputs" id="searchinputs">
				<input type="text" pattern="[a-zA-Z0-9 ]+" name="artist" id="artist"></input><br>
				<input type="text" pattern="[a-zA-Z0-9 ]+" name="name" id="name"></input><br>
			</div>	
			</div>
			<div id ="SearchButton">
				<button type="button" id="startsearch">Search</button><br>	

				<div class="SearchResults" id="searchresults">

			</div>
		</div>
	</div>
    </div>
</body>
